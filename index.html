<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Photocopy</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

	<input type="checkbox" id="toggle">
	<label for="toggle">Invert</label>

	<button onclick="location.reload();">Reload</button>

	<div id="container">
	
		<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0">
			<filter id="svgSharpen">
				<feConvolveMatrix order="3 3" preserveAlpha="true" divisor="1" bias="0.15" kernelMatrix="-1,-1,-1 -1,9,-1 -1,-1,-1"/>
			</filter>
		</svg>
		
		<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0">
			<filter id="svgThreshold">
				<feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/>
				<feComponentTransfer>
					<feFuncR type="discrete" tableValues=" 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"/>
					<feFuncG type="discrete" tableValues=" 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"/>
					<feFuncB type="discrete" tableValues=" 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"/>
				</feComponentTransfer>
			</filter>
		</svg>

	</div>

	<script>
		// Image generation.
		function randomInt(min, max) {
			min = Math.ceil(min);
			max = Math.floor(max);
			return Math.floor(Math.random() * (max - min + 1)) + min;
		}

		let min = 400;
		let max = 600;
		let width = randomInt(min, max);
		let height = randomInt(min, max);
		let number = randomInt(1, 9);

		let src = `https://picsum.photos/${width}/${height}`;

		let img = `<img src="${src}" width="${width}" height="${height}" loading="lazy" alt="Figure ${number}">`;
		let caption = `<figcaption>fig. ${number}</figcaption>`;
		let figure = `<figure>${img}${caption}</figure>`;

		let container = document.getElementById('container');
		container.innerHTML += figure;

	</script>

</body>
</html>